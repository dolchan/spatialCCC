[{"path":"https://skimlab.github.io/spatialCCC/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 spatialCCC authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"example","dir":"Articles","previous_headings":"","what":"Example","title":"article-1","text":"basic example shows basic workflow package:","code":""},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"load-necessary-packages","dir":"Articles","previous_headings":"","what":"Load necessary packages","title":"article-1","text":"first load R packages required example .","code":"library(patchwork) library(ggtree)  # spatialCCC package library(spatialCCC)"},{"path":[]},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"load-built-in-lrdb","dir":"Articles","previous_headings":"Ligand-Receptor Database","what":"Load built-in LRdb","title":"article-1","text":"LRdb downloaded CellTalkDB: [http://tcm.zju.edu.cn/celltalkdb/download.php]. can see detail : also created getter functions, get_LRdb() get_LRdb_small(), retrieve database.","code":"?LRdb_human ?LRdb_mouse set.seed(100)  LRdb_m <-    get_LRdb(\"mouse\", n_samples = 100)  LRdb_m %>%    dplyr::arrange(ligand_gene_symbol, receptor_gene_symbol) #> # A tibble: 100 × 10 #>    LR    ligand_gene_symbol receptor_gene_symbol ligand_gene_id receptor_gene_id #>    <chr> <chr>              <chr>                         <dbl>            <dbl> #>  1 Adam… Adam10             Notch1                        11487            18128 #>  2 Adam… Adam12             Epha1                         11489            13835 #>  3 Adam… Adam17             Aplp2                         11491            11804 #>  4 Adam… Adam2              Itgb7                         11495            16421 #>  5 Adcy… Adcyap1            Adcyap1r1                     11516            11517 #>  6 Adcy… Adcyap1            Ramp3                         11516            56089 #>  7 Adip… Adipoq             Adipor1                       11450            72674 #>  8 Adm2… Adm2               Calcrl                       223780            54598 #>  9 Apoe… Apoe               Ldlr                          11816            16835 #> 10 Apoe… Apoe               Trem2                         11816            83433 #> # ℹ 90 more rows #> # ℹ 5 more variables: ligand_ensembl_protein_id <chr>, #> #   receptor_ensembl_protein_id <chr>, ligand_ensembl_gene_id <chr>, #> #   receptor_ensembl_gene_id <chr>, evidence <chr>"},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"load-visium-spatial-transcriptomic-data","dir":"Articles","previous_headings":"","what":"Load Visium spatial transcriptomic data","title":"article-1","text":"","code":"data_dir <- file.path(base_dir, \"example\", \"visium_tutorial\")  spe_brain <-   SpatialExperiment::read10xVisium(samples = data_dir,                                    type = \"HDF5\",                                    data = \"filtered\")  # to keep track of cell IDs # spe_brain[[\"cell_id\"]] <- colnames(spe_brain)  # Log-Normalize spe_brain <- scater::logNormCounts(spe_brain)"},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"cell-cluster-data","dir":"Articles","previous_headings":"","what":"Cell cluster data","title":"article-1","text":"Now, let’s read cell cluster data, obtained using GraphST.","code":"cell_clusters <-   read.csv(file.path(data_dir, \"outs\", \"graphST.csv\"), row.names = 1)  # Make sure the rows of cell_clusters are in the same order of spe_brain. cell_clusters <- cell_clusters[colnames(spe_brain), ]  cluster_ids <- colnames(cell_clusters) cluster_ids <- cluster_ids[grep(\"mclust_\", cluster_ids)]  for (cid in cluster_ids) {   spe_brain[[cid]] <- factor(cell_clusters[[cid]]) } plot_spatial_feature(spe = spe_brain, feature = \"mclust_8\")"},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"compute-cell-cell-communications-over-ligand-receptor-pairs","dir":"Articles","previous_headings":"","what":"Compute Cell-Cell Communications over ligand-receptor pairs","title":"article-1","text":"","code":"# For full LRdb analysis, future::plan can be used  #   for parallelization # future::plan(future::multisession, workers = 4)  tictoc::tic() ccc_tbl <- compute_spatial_ccc_tbl(spe = spe_brain,                                     assay_name = \"logcounts\",                                    LRdb = LRdb_m) tictoc::toc() #> 17.451 sec elapsed  # future::plan(future::sequential) ccc_tbl %>%    dplyr::arrange(desc(LRscore)) #> # A tibble: 126,286 × 10 #>    src          dst       d norm.d LR    ligand receptor LRscore weight WLRscore #>    <chr>        <chr> <dbl>  <dbl> <chr> <chr>  <chr>      <dbl>  <dbl>    <dbl> #>  1 CAGTCTGTATA… AGGT…  137.   1.00 Apoe… Apoe   Trem2      0.866  0.999    0.866 #>  2 ACGTTAATGTC… AGGT…  138    1.01 Apoe… Apoe   Trem2      0.864  0.986    0.852 #>  3 CCTAAATTAAC… AGGT…  138.   1.00 Apoe… Apoe   Trem2      0.864  0.992    0.857 #>  4 TATACACAGAC… ACGC…  138.   1.01 Apoe… Apoe   Trem2      0.863  0.980    0.846 #>  5 TGTTCGTATTG… ACGC…  138    1.01 Apoe… Apoe   Trem2      0.863  0.986    0.850 #>  6 AGGTTTCACAC… AGGT…    0    0    Apoe… Apoe   Trem2      0.862  1        0.862 #>  7 CGCATGGTGCG… AGGT…  138.   1.01 Apoe… Apoe   Trem2      0.861  0.987    0.850 #>  8 GATAGGTAACG… ACGC…  138.   1.00 Apoe… Apoe   Trem2      0.861  0.992    0.854 #>  9 GCGCCGTTCCA… AGGT…  137    1    Apoe… Apoe   Trem2      0.861  1        0.861 #> 10 ACGCGAAGTCA… ACGC…    0    0    Apoe… Apoe   Trem2      0.860  1        0.860 #> # ℹ 126,276 more rows"},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"add-cluster-lables-to-ccc-table-","dir":"Articles","previous_headings":"Compute Cell-Cell Communications over ligand-receptor pairs","what":"Add cluster lables to CCC table.","title":"article-1","text":"","code":"ccc_tbl <-   ccc_tbl %>%   amend_ccc_tbl_with_cell_annots(spe = spe_brain, annot_cols = c(\"mclust_8\", \"mclust_10\")) %>%   set_ccc_tbl_default_cluster(\"mclust_8\")"},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"summarize-cell-cell-communication-between-cell-clusters","dir":"Articles","previous_headings":"Compute Cell-Cell Communications over ligand-receptor pairs","what":"Summarize cell-cell communication between cell clusters","title":"article-1","text":"","code":"ccc_tbl_between_clusters <-   ccc_tbl %>%   dplyr::group_by(mclust_8.src, mclust_8.dst, LR) %>%   dplyr::summarise(n = dplyr::n(),                    LRscore.sum = sum(LRscore),                    WLRscore.sum = sum(WLRscore)) #> `summarise()` has grouped output by 'mclust_8.src', 'mclust_8.dst'. You can #> override using the `.groups` argument.  ccc_tbl_between_clusters %>%   dplyr::arrange(desc(n)) #> # A tibble: 1,327 × 6 #> # Groups:   mclust_8.src, mclust_8.dst [46] #>    mclust_8.src mclust_8.dst LR                    n LRscore.sum WLRscore.sum #>    <fct>        <fct>        <chr>             <int>       <dbl>        <dbl> #>  1 3            3            App_Lrp1           4480       3576.        3537. #>  2 3            3            Nlgn2_Nrxn1        3592       2585.        2556. #>  3 3            3            Ncam1_Fgfr1        3093       2167.        2143. #>  4 3            3            S100a1_Ryr2        2349       1592.        1574. #>  5 2            2            App_Lrp1           2136       1710.        1691. #>  6 3            3            Apoe_Ldlr          1953       1487.        1471. #>  7 2            2            Nlgn2_Nrxn1        1840       1386.        1370. #>  8 1            1            App_Lrp1           1742       1406.        1391. #>  9 3            3            Apoe_Trem2         1720       1322.        1308. #> 10 3            3            Adcyap1_Adcyap1r1  1687       1131.        1118. #> # ℹ 1,317 more rows ccc_tbl_between_clusters %>%   dplyr::filter(mclust_8.dst != mclust_8.src) %>%   dplyr::arrange(desc(n)) #> # A tibble: 1,004 × 6 #> # Groups:   mclust_8.src, mclust_8.dst [38] #>    mclust_8.src mclust_8.dst LR                n LRscore.sum WLRscore.sum #>    <fct>        <fct>        <chr>         <int>       <dbl>        <dbl> #>  1 3            5            App_Lrp1        304        241.         238. #>  2 5            3            App_Lrp1        300        238.         235. #>  3 5            3            Nlgn2_Nrxn1     255        184.         182. #>  4 3            5            S100a1_Ryr2     224        161.         159. #>  5 8            3            App_Lrp1        212        171.         168. #>  6 3            5            Ncam1_Fgfr1     208        145.         143. #>  7 3            8            App_Lrp1        199        157.         155. #>  8 3            5            Nlgn2_Nrxn1     195        141.         139. #>  9 5            3            Ncam1_Fgfr1     165        116.         114. #> 10 3            5            Calm2_Cacna1c   163        122.         120. #> # ℹ 994 more rows"},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"convert-ccc-table-to-ccc-graph","dir":"Articles","previous_headings":"Compute Cell-Cell Communications over ligand-receptor pairs","what":"Convert CCC table to CCC graph","title":"article-1","text":"conversion also adds various graph metrics CCC graph. summarize_ccc_graph_metrics() summarize graph metrics LR pair. summarize_ccc_graph_metrics(…, level = “group”) summarizes metrics subgraph (group) CCC graph (LR)","code":"tictoc::tic(\"to_spatical_ccc_graph ...\")  sp_col_data <- get_spatial_data(spe_brain)  ccc_graph_list <-   to_spatial_ccc_graph_list(ccc_tbl, sp_col_data, workers = 6)  tictoc::toc() #> to_spatical_ccc_graph ...: 66.829 sec elapsed tictoc::tic()  ccc_graph_metrics_summary_df <-   summarize_ccc_graph_metrics(ccc_graph_list)  tictoc::toc() #> 0.168 sec elapsed ccc_graph_metrics_summary_df %>%   dplyr::arrange(graph_component_count) #> # A tibble: 41 × 12 #>    LR        graph_n_nodes graph_n_edges graph_component_count graph_motif_count #>    <chr>             <int>         <dbl>                 <dbl>             <int> #>  1 App_Lrp1           2700         17430                     3             27811 #>  2 Ncam1_Fg…          2549          9640                     3             18340 #>  3 Nlgn2_Nr…          2675         14289                     3             25062 #>  4 S100a1_R…          2591         10689                     5             20094 #>  5 Calm2_Ca…          2461          8105                     6             16288 #>  6 Apoe_Tre…          2560          6937                     8             14484 #>  7 Apoe_Ldlr          2295          5608                    26             11724 #>  8 Slit1_Ro…          1651          4373                    41              7866 #>  9 Calm2_My…          1967          4247                    42              8830 #> 10 Adcyap1_…          1642          4172                    43              7801 #> # ℹ 31 more rows #> # ℹ 7 more variables: graph_diameter <dbl>, graph_un_diameter <dbl>, #> #   graph_mean_dist <dbl>, graph_circuit_rank <dbl>, graph_reciprocity <dbl>, #> #   graph_clique_num <int>, graph_clique_count <int> tictoc::tic()  ccc_graph_group_metrics_summary_df <-   summarize_ccc_graph_metrics(ccc_graph_list, level = \"group\")  tictoc::toc() #> 0.161 sec elapsed ccc_graph_group_metrics_summary_df  #> # A tibble: 2,877 × 12 #>    LR         group group_n_nodes group_n_edges group_adhesion group_motif_count #>    <chr>      <int>         <int>         <dbl>          <dbl>             <int> #>  1 Rspo3_Lgr6    38             2             1              0                 0 #>  2 Rspo3_Lgr6    13             3             3              0                 1 #>  3 Rspo3_Lgr6    39             2             1              0                 0 #>  4 Rspo3_Lgr6    14             3             2              0                 1 #>  5 Rspo3_Lgr6     5             4             3              0                 3 #>  6 Rspo3_Lgr6     6             4             4              0                 3 #>  7 Rspo3_Lgr6    75             1             1              0                 0 #>  8 Rspo3_Lgr6    40             2             1              0                 0 #>  9 Rspo3_Lgr6    41             2             1              0                 0 #> 10 Rspo3_Lgr6    15             3             3              0                 1 #> # ℹ 2,867 more rows #> # ℹ 6 more variables: group_diameter <dbl>, group_un_diameter <dbl>, #> #   group_mean_dist <dbl>, group_girth <dbl>, group_circuit_rank <dbl>, #> #   group_reciprocity <dbl>"},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"visualization","dir":"Articles","previous_headings":"","what":"Visualization","title":"article-1","text":"","code":"LR_of_interest <- \"Pdgfb_Pdgfra\" ccc_graph_list[[LR_of_interest]] %>%   tidygraph::activate(edges) %>%   tibble::as_tibble() #> # A tibble: 2,406 × 40 #>     from    to src       dst       d norm.d LR    ligand receptor LRscore weight #>    <int> <int> <chr>     <chr> <dbl>  <dbl> <chr> <chr>  <chr>      <dbl>  <dbl> #>  1     1     1 AAACAAGT… AAAC…    0    0    Pdgf… Pdgfb  Pdgfra     0.621  1     #>  2     1   920 AAACAAGT… AGAG…  138.   1.01 Pdgf… Pdgfb  Pdgfra     0.649  0.980 #>  3     1   921 AAACAAGT… GGCA…  138.   1.01 Pdgf… Pdgfb  Pdgfra     0.684  0.987 #>  4     1   896 AAACAAGT… TTCT…  138.   1.01 Pdgf… Pdgfb  Pdgfra     0.629  0.980 #>  5     2   922 AAACAGAG… TCAC…  138.   1.01 Pdgf… Pdgfb  Pdgfra     0.599  0.980 #>  6     3     3 AAACCGGG… AAAC…    0    0    Pdgf… Pdgfb  Pdgfra     0.541  1     #>  7     3   923 AAACCGGG… CGCT…  138    1.01 Pdgf… Pdgfb  Pdgfra     0.631  0.986 #>  8     3   924 AAACCGGG… TTGG…  138.   1.01 Pdgf… Pdgfb  Pdgfra     0.509  0.980 #>  9     4     4 AAACGAGA… AAAC…    0    0    Pdgf… Pdgfb  Pdgfra     0.641  1     #> 10     4    50 AAACGAGA… AAGA…  138    1.01 Pdgf… Pdgfb  Pdgfra     0.670  0.986 #> # ℹ 2,396 more rows #> # ℹ 29 more variables: WLRscore <dbl>, mclust_8.src <chr>, mclust_10.src <chr>, #> #   mclust_8.dst <chr>, mclust_10.dst <chr>, cluster.src <chr>, #> #   cluster.dst <chr>, graph_n_nodes <int>, graph_n_edges <dbl>, #> #   graph_component_count <dbl>, graph_motif_count <int>, graph_diameter <dbl>, #> #   graph_un_diameter <dbl>, graph_mean_dist <dbl>, graph_circuit_rank <dbl>, #> #   graph_reciprocity <dbl>, graph_clique_num <int>, …"},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"spatial-ccc-graph-plot-with-tissue-image","dir":"Articles","previous_headings":"Visualization","what":"spatial CCC graph plot with tissue image","title":"article-1","text":"","code":"gp_spccc <-   plot_spatial_ccc_graph(     ccc_graph = ccc_graph_list[[LR_of_interest]],     tissue_img = SpatialExperiment::imgRaster(spe_brain),     node_color = \"mclust_8\",     node_size = 1,     node_alpha = 0.5,     edge_color = \"group\",     # clip = TRUE,     which_on_top = \"edge\"   )  gp_spccc_0 <-   plot_spatial_feature(spe = spe_brain,                        feature = \"mclust_8\") wrap_plots(gp_spccc, gp_spccc_0, ncol = 2) ccc_graph_temp <-   ccc_graph_list[[LR_of_interest]] %>%   tidygraph::activate(\"edges\") %>%   tidygraph::filter(mclust_8.src != mclust_8.dst) %>%   tidy_up_ccc_graph()  cells_of_interest <-   ccc_graph_temp %>%   tidygraph::activate(\"nodes\") %>%   dplyr::pull(\"name\") gp_spccc <-   plot_spatial_ccc_graph(     ccc_graph = ccc_graph_temp,     tissue_img = SpatialExperiment::imgRaster(spe_brain),     node_color = \"inflow.n\",     node_size = 1.25,     node_alpha = 1,     edge_color = \"group\",     show_arrow = TRUE,     # clip = TRUE,     which_on_top = \"node\"   )  gp_spccc_0 <-   plot_spatial_ccc_graph(     ccc_graph = ccc_graph_list[[LR_of_interest]],     tissue_img = SpatialExperiment::imgRaster(spe_brain),     image_alpha = 0,     cells_of_interest = cells_of_interest,     edges_expanded_to_group = FALSE,     node_color = \"mclust_8\",     node_size = 1.25,     node_alpha = 0.5,     edge_color = \"group\",     show_arrow = TRUE,     # clip = TRUE,     which_on_top = \"node\"   )  gp_spccc_1 <-   plot_spatial_feature(spe = spe_brain,                        feature = \"mclust_8\",                        cells_of_interest = cells_of_interest) wrap_plots(gp_spccc, gp_spccc_1, ncol = 2) gp_spccc_0"},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"spatial-ccc-graph-plot-without-tissue-image","dir":"Articles","previous_headings":"Visualization","what":"spatial CCC graph plot without tissue image","title":"article-1","text":"case, graph layout can “spatial” keeps original spatial locations, graph layout algorithm supported igraph package.  uses “auto” layout (“kk” spring layout).  case, “stress” layout.","code":"gp_spccc <-   plot_spatial_ccc_graph(     ccc_graph = ccc_graph_list[[LR_of_interest]],     graph_layout = \"spatial\",     node_color =  \"mclust_8\",     node_size = 1,     edge_color = \"group_diameter\",     clip = TRUE,     # ghost_img = TRUE,     which_on_top = \"edge\"   )  gp_spccc_0 <-   plot_spatial_ccc_graph(     ccc_graph =       ccc_graph_list[[LR_of_interest]],     graph_layout = \"spatial\",     node_color = \"mclust_8\",     node_size = 1,     edge_color = \"group_diameter\",     clip = TRUE,     # ghost_img = TRUE,     which_on_top = \"node\"   ) wrap_plots(gp_spccc, gp_spccc_0, ncol = 2, guides = \"collect\") plot_spatial_ccc_graph(ccc_graph = ccc_graph_list[[LR_of_interest]],                        # tissue_img = SpatialExperiment::imgRaster(spe_brain),                        node_color = \"group\",                        node_size = 0.1,                        edge_color = \"group_diameter\",                        edge_width = 0.1,                        which_on_top = \"edge\") plot_spatial_ccc_graph(ccc_graph = ccc_graph_list[[LR_of_interest]],                        # tissue_img = SpatialExperiment::imgRaster(spe_brain),                        graph_layout = \"stress\",                        node_color = \"group\",                        edge_color = \"group_diameter\",                        edge_width = 0.25,                        which_on_top = \"edge\")"},{"path":"https://skimlab.github.io/spatialCCC/articles/article-1.html","id":"cell-overlap-distance","dir":"Articles","previous_headings":"","what":"Cell-overlap distance","title":"article-1","text":"","code":"tictoc::tic()  cell_overlap_dist <-   dist_cell_overlap_ccc_tbl(ccc_tbl)  tictoc::toc() #> 0.756 sec elapsed tictoc::tic()  cell_overlap_lf <-   lf_cell_overlap_ccc_tbl(ccc_tbl)  tictoc::toc() #> 0.852 sec elapsed tictoc::tic()  LRs_high_cell_overlap <-   cell_overlap_lf %>%    dplyr::filter(d < 1) %>%   dplyr::select(lr1, lr2) %>%   unlist() %>% unique()  tictoc::toc() #> 0.007 sec elapsed tictoc::tic()  high_cell_overlap_dist <-   cell_overlap_dist[LRs_high_cell_overlap, LRs_high_cell_overlap]  tictoc::toc() #> 0.002 sec elapsed tictoc::tic()  high_cell_overlap_dist2 <-   cell_overlap_lf %>%   dplyr::filter(d < 1) %>%   dplyr::select(lr1, lr2, d) %>%   lf_to_dist()  tictoc::toc() #> 0.019 sec elapsed LR_ccc_summary_tbl <-   ccc_tbl %>%    dplyr::pull(LR) %>%   table() %>%   tibble::as_tibble() %>%   dplyr::rename(\"LR\" = \".\") %>%   dplyr::arrange(desc(n)) %>%   dplyr::left_join(     ccc_tbl %>%        dplyr::select(LR, ligand, receptor) %>%       dplyr::distinct(),     by = \"LR\"   ) hclus.res <- fastcluster::hclust(as.dist(high_cell_overlap_dist),                                  method = \"complete\") ape::as.phylo(hclus.res) %>%   ggtree(layout=\"dendrogram\") %<+% LR_ccc_summary_tbl +   aes(color=receptor) +   theme(legend.position = \"none\") +   geom_tippoint(aes(size=n), alpha=0.5) +   geom_tiplab(size=2, offset=-0.15) +   xlim_tree(3) ape::as.phylo(hclus.res) %>%   ggtree(layout = \"circular\") %<+% LR_ccc_summary_tbl +   aes(color=receptor) +   # aes(color=ligand) +   theme(legend.position = \"none\") +   geom_tippoint(aes(size=n), alpha=0.5) +   geom_tiplab(size=2, offset=0.05)"},{"path":"https://skimlab.github.io/spatialCCC/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Seungchan Kim. Author, maintainer.","code":""},{"path":"https://skimlab.github.io/spatialCCC/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kim S (2023). spatialCCC: Spatial Transcriptomic cell-cell communication analysis. https://github.com/dolchan/spatialCCC, https://skimlab.github.io/spatialCCC/.","code":"@Manual{,   title = {spatialCCC: Spatial Transcriptomic cell-cell communication analysis},   author = {Seungchan Kim},   year = {2023},   note = {https://github.com/dolchan/spatialCCC, https://skimlab.github.io/spatialCCC/}, }"},{"path":"https://skimlab.github.io/spatialCCC/index.html","id":"spatialccc-","dir":"","previous_headings":"","what":"Spatial Transcriptomic cell-cell communication analysis","title":"Spatial Transcriptomic cell-cell communication analysis","text":"goal spatialCCC package investigate cell-cell signaling, analyzing ligand-receptor interactions spatial transcriptomic data.","code":""},{"path":"https://skimlab.github.io/spatialCCC/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Spatial Transcriptomic cell-cell communication analysis","text":"can install development version spatialCCC GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"dolchan/spatialCCC\")"},{"path":"https://skimlab.github.io/spatialCCC/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Spatial Transcriptomic cell-cell communication analysis","text":"basic example shows basic workflow package: First, load required R packages. , load built-LR database. Load example Visium spatial transcriptomic data","code":"library(spatialCCC) set.seed(100)  LRdb_m <-    get_LRdb(\"mouse\", n_samples = 100) data_dir <- file.path(\"example\", \"visium_tutorial\") spe_brain <-   SpatialExperiment::read10xVisium(samples = data_dir,                                    type = \"HDF5\",                                    data = \"filtered\")  # Log-Normalize spe_brain <- scater::logNormCounts(spe_brain)"},{"path":"https://skimlab.github.io/spatialCCC/index.html","id":"cell-cell-communication-analysis","dir":"","previous_headings":"Example","what":"Cell-cell communication analysis","title":"Spatial Transcriptomic cell-cell communication analysis","text":"Compute Cell-Cell Communications ligand-receptor pairs","code":"ccc_graph_list <-   compute_spatial_ccc_graph_list(spe = spe_brain,                                  assay_name = \"logcounts\",                                  LRdb = LRdb_m,                                   workers = 6)"},{"path":"https://skimlab.github.io/spatialCCC/index.html","id":"cell-cell-commuication-visualization","dir":"","previous_headings":"Example","what":"Cell-cell commuication visualization","title":"Spatial Transcriptomic cell-cell communication analysis","text":"Spatial CCC graph plot tissue image  Spatial CCC graph plot without tissue image case, graph layout can “spatial” keeps original spatial locations, graph layout algorithm supported igraph package.  Spatial CCC graph plot “auto”, .k.., “kk” spring layout format one , one can see distribution cell-cell communication clusters  Spatial CCC graph plot “stress” layout","code":"LR_of_interest <- \"Pdgfb_Pdgfra\"  plot_spatial_ccc_graph(   ccc_graph = ccc_graph_list[[LR_of_interest]],   tissue_img = SpatialExperiment::imgRaster(spe_brain),   node_color = \"group\",   node_size = 1,   node_alpha = 0.5,   edge_color = \"group\",   # clip = TRUE,   which_on_top = \"edge\" ) plot_spatial_ccc_graph(   ccc_graph = ccc_graph_list[[LR_of_interest]],   graph_layout = \"spatial\",   node_color =  \"group\",   node_size = 1,   edge_color = \"group_diameter\",   clip = TRUE,   which_on_top = \"edge\" ) plot_spatial_ccc_graph(   ccc_graph = ccc_graph_list[[LR_of_interest]],   node_color = \"group\",   node_size = 0.1,   edge_color = \"group_diameter\",   edge_width = 0.1,   which_on_top = \"edge\" ) plot_spatial_ccc_graph(   ccc_graph = ccc_graph_list[[LR_of_interest]],   # tissue_img = SpatialExperiment::imgRaster(spe_brain),   graph_layout = \"stress\",   node_color = \"group\",   edge_color = \"group_diameter\",   edge_width = 0.25,   which_on_top = \"edge\" )"},{"path":"https://skimlab.github.io/spatialCCC/reference/LRdb_human.html","id":null,"dir":"Reference","previous_headings":"","what":"Ligand-receptor database (human) — LRdb_human","title":"Ligand-receptor database (human) — LRdb_human","text":"ligand-receptor database human","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/LRdb_human.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ligand-receptor database (human) — LRdb_human","text":"","code":"LRdb_human"},{"path":[]},{"path":"https://skimlab.github.io/spatialCCC/reference/LRdb_human.html","id":"lrdb-human","dir":"Reference","previous_headings":"","what":"LRdb_human","title":"Ligand-receptor database (human) — LRdb_human","text":"data frame 3,398 rows 10 columns: LR ligand_receptor pair ligand_gene_symbol, receptor_gene_symbol ligand & receptor gene symbols ligand_gene_id, receptor_gene_id ligand & receptor gene ids - Entrez ID","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/LRdb_human.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Ligand-receptor database (human) — LRdb_human","text":"http://tcm.zju.edu.cn/celltalkdb/download.php","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/LRdb_mouse.html","id":null,"dir":"Reference","previous_headings":"","what":"Ligand-receptor database (mouse) — LRdb_mouse","title":"Ligand-receptor database (mouse) — LRdb_mouse","text":"ligand-receptor database mouse","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/LRdb_mouse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Ligand-receptor database (mouse) — LRdb_mouse","text":"","code":"LRdb_mouse"},{"path":[]},{"path":"https://skimlab.github.io/spatialCCC/reference/LRdb_mouse.html","id":"lrdb-mouse","dir":"Reference","previous_headings":"","what":"LRdb_mouse","title":"Ligand-receptor database (mouse) — LRdb_mouse","text":"data frame 2,033 rows 10 columns: LR ligand_receptor pair ligand_gene_symbol, receptor_gene_symbol ligand & receptor gene symbols ligand_gene_id, receptor_gene_id ligand & receptor gene ids - Entrez ID","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/LRdb_mouse.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Ligand-receptor database (mouse) — LRdb_mouse","text":"http://tcm.zju.edu.cn/celltalkdb/download.php","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/amend_ccc_tbl_with_cell_annots.html","id":null,"dir":"Reference","previous_headings":"","what":"Amend CCC table with annotations for source and destination cells — amend_ccc_tbl_with_cell_annots","title":"Amend CCC table with annotations for source and destination cells — amend_ccc_tbl_with_cell_annots","text":"Amend CCC table annotations source destination cells","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/amend_ccc_tbl_with_cell_annots.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Amend CCC table with annotations for source and destination cells — amend_ccc_tbl_with_cell_annots","text":"","code":"amend_ccc_tbl_with_cell_annots(ccc_tbl, spe, annot_cols, overwrite = TRUE)"},{"path":"https://skimlab.github.io/spatialCCC/reference/amend_ccc_tbl_with_cell_annots.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Amend CCC table with annotations for source and destination cells — amend_ccc_tbl_with_cell_annots","text":"ccc_tbl CCC table, output compute_spatial_ccc_tbl() spe SpatialExperiment object annot_cols column names colData(spe), matched source destination cells added separately: annot_cols.src, .dst overwrite TRUE, previous columns colliding new columns (annot_cols.src, dst) reset.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_graph_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute cell-cell communication graphs — compute_spatial_ccc_graph_list","title":"Compute cell-cell communication graphs — compute_spatial_ccc_graph_list","text":"Compute cell-cell communication graphs","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_graph_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute cell-cell communication graphs — compute_spatial_ccc_graph_list","text":"","code":"compute_spatial_ccc_graph_list(   spe,   assay_name = \"logcounts\",   LRdb,   expression_min_prop = 0.05,   spot_dist_cutoff = 1.5,   LRscore_cutoff = 0.5,   workers = 1 )"},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_graph_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute cell-cell communication graphs — compute_spatial_ccc_graph_list","text":"spe SpatialExperiment object assay_name assay name string LRdb LRdb data.frame (see get_LRdb()) expression_min_prop minimum proportion samples non-zero expression value (default: 0.05) spot_dist_cutoff cutoff value norm.d spot distances. Default cutoff 1.5 comes sqrt(3) ~ 1.73, based Visium spot-array arranged, default, computing nearest neighbors. LRscore_cutoff minimum LRscore keep workers number processes used parallel processing","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_graph_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute cell-cell communication graphs — compute_spatial_ccc_graph_list","text":"list spatial CCC graphs, tidygraph format; spatial CCC graph also include following graph metrics characterize CCC graph.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_graph_list.html","id":"graph-metrics","dir":"Reference","previous_headings":"","what":"graph metrics","title":"Compute cell-cell communication graphs — compute_spatial_ccc_graph_list","text":"overall graph, graph_n_nodes, graph_n_edges graph_component_count graph_motif_count graph_diameter graph_un_diameter graph_mean_dist graph_circuit_rank = graph_n_edges - graph_n_nodes + graph_component_count graph_reciprocity graph_clique_num (sp_ccc_graph assumed undirected) graph_clique_count (sp_ccc_graph assumed undirected) sub-graph (group_components()) group_n_nodes group_n_edges group_adhesion group_motif_count group_diameter group_un_diameter group_mean_dist group_girth group_circuit_rank group_reciprocity","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute ligand-receptor interactions — compute_spatial_ccc_tbl","title":"Compute ligand-receptor interactions — compute_spatial_ccc_tbl","text":"Compute ligand-receptor interactions (LRscore) neighboring spots. Neighboring spots norm.d < spot_dist_cutoff.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute ligand-receptor interactions — compute_spatial_ccc_tbl","text":"","code":"compute_spatial_ccc_tbl(   spe,   assay_name = \"logcounts\",   LRdb,   expression_min_prop = 0.05,   spot_dist_cutoff = 1.5,   LRscore_cutoff = 0.5 )"},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute ligand-receptor interactions — compute_spatial_ccc_tbl","text":"spe SpatialExperiment object assay_name assay name string LRdb LRdb data.frame (see get_LRdb()) expression_min_prop minimum proportion samples non-zero expression value (default: 0.05) spot_dist_cutoff cutoff value norm.d spot distances. Default cutoff 1.5 comes sqrt(3) ~ 1.73, based Visium spot-array arranged, default, computing nearest neighbors. LRscore_cutoff minimum LRscore keep","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute ligand-receptor interactions — compute_spatial_ccc_tbl","text":"LRscore table data.frame following columns: src, dst source destination cells/spots d, norm.d cell-cell/spot-spot distance normalized distance ligand, receptor ligand & receptor genes LRscore LRscore -- see weight weight -- reciprocal norm.d WLRscore weighted LRscore = \\(weight \\cdot LRscore\\)","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_tbl.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Compute ligand-receptor interactions — compute_spatial_ccc_tbl","text":"$$LRscore = \\frac{\\sqrt{x_L \\cdot x_R}}{\\sqrt{x_L \\cdot x_R} + C}$$ \\(x_L\\) \\(x_R\\) expression values ligand (L) receptor (R), \\(C\\) average gene expression across genes samples. source: https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7261168/","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/compute_spatial_ccc_tbl.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute ligand-receptor interactions — compute_spatial_ccc_tbl","text":"","code":"if (FALSE) { # read Visium spatial transcriptomic data #   and log-normalize data spe <-   SpatialExperiment::read10xVisium(     samples = data_dir,     type = \"HDF5\",     data = \"filtered\") %>%     logNormCounts()  # get built-in LR datbase for mouse LRdb_mouse <- get_LRdb(\"mouse\")  # calculate LRscores ccc_table <-   compute_spatial_ccc(     spe = spe,     assay_name = \"logcounts\",     LRdb = LRdb_mouse)#' }"},{"path":"https://skimlab.github.io/spatialCCC/reference/dist_cell_overlap_ccc_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute cell overlap distance — dist_cell_overlap_ccc_tbl","title":"Compute cell overlap distance — dist_cell_overlap_ccc_tbl","text":"Compute cell overlap distance","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/dist_cell_overlap_ccc_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute cell overlap distance — dist_cell_overlap_ccc_tbl","text":"","code":"dist_cell_overlap_ccc_tbl(ccc_tbl)"},{"path":"https://skimlab.github.io/spatialCCC/reference/dist_cell_overlap_ccc_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute cell overlap distance — dist_cell_overlap_ccc_tbl","text":"ccc_tbl CCC graph tabular format","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/dist_cell_overlap_ccc_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute cell overlap distance — dist_cell_overlap_ccc_tbl","text":"Jaccard distance matrix format","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/get_LRdb.html","id":null,"dir":"Reference","previous_headings":"","what":"Return LRdb table — get_LRdb","title":"Return LRdb table — get_LRdb","text":"get_LRdb() returns full size table get_LRdb_small() returns smaller table, useful testing. See LRdb_human LRdb_mouse detail database.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/get_LRdb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Return LRdb table — get_LRdb","text":"","code":"get_LRdb(species = c(\"human\", \"mouse\"), n_samples = 0)"},{"path":"https://skimlab.github.io/spatialCCC/reference/get_LRdb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Return LRdb table — get_LRdb","text":"species string, either \"human\" (default) \"mouse\" n_samples number LR-pairs sample; 0, return full table.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/get_LRdb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Return LRdb table — get_LRdb","text":"LRdb table data frame","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/get_LRdb.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Return LRdb table — get_LRdb","text":"","code":"LRdb <- get_LRdb(species = \"human\")"},{"path":"https://skimlab.github.io/spatialCCC/reference/get_spatial_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Get spatial coordinates — get_spatial_data","title":"Get spatial coordinates — get_spatial_data","text":"Returns default spatial coordinates scaled coordinates, spot_x spot_y.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/get_spatial_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get spatial coordinates — get_spatial_data","text":"","code":"get_spatial_data(spe)"},{"path":"https://skimlab.github.io/spatialCCC/reference/get_spatial_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get spatial coordinates — get_spatial_data","text":"spe SpatialExperiment object","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/get_spatial_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get spatial coordinates — get_spatial_data","text":"spatial coordinates data.frame cell_id, ... (spatialCoords(spe)), spot_x, spot_y.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/lf_cell_overlap_ccc_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute cell overlap distance — lf_cell_overlap_ccc_tbl","title":"Compute cell overlap distance — lf_cell_overlap_ccc_tbl","text":"Compute cell overlap distance","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/lf_cell_overlap_ccc_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute cell overlap distance — lf_cell_overlap_ccc_tbl","text":"","code":"lf_cell_overlap_ccc_tbl(ccc_tbl)"},{"path":"https://skimlab.github.io/spatialCCC/reference/lf_cell_overlap_ccc_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute cell overlap distance — lf_cell_overlap_ccc_tbl","text":"ccc_tbl CCC graph tabular format","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/lf_cell_overlap_ccc_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute cell overlap distance — lf_cell_overlap_ccc_tbl","text":"Jaccard distance long format","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/lf_to_dist.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert distance in long format to matrix — lf_to_dist","title":"Convert distance in long format to matrix — lf_to_dist","text":"ensures columns rows features","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/lf_to_dist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert distance in long format to matrix — lf_to_dist","text":"","code":"lf_to_dist(lf)"},{"path":"https://skimlab.github.io/spatialCCC/reference/lf_to_dist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert distance in long format to matrix — lf_to_dist","text":"lf distance long format","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/lf_to_dist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert distance in long format to matrix — lf_to_dist","text":"distance matrix format","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/plot_spatial_ccc_graph.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot spatial CCC graph — plot_spatial_ccc_graph","title":"Plot spatial CCC graph — plot_spatial_ccc_graph","text":"Visualize spatial CCC graph various formats, w/ w/o tissue image","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/plot_spatial_ccc_graph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot spatial CCC graph — plot_spatial_ccc_graph","text":"","code":"plot_spatial_ccc_graph(   ccc_graph,   graph_layout = \"auto\",   cells_of_interest = NULL,   edges_expanded_to_group = TRUE,   edge_color = \"group_n_edges\",   node_color = \"group_n_nodes\",   edge_color_range = NULL,   node_color_range = NULL,   edge_width = 0.5,   edge_alpha = 1,   node_size = 0.5,   node_alpha = 1,   clip = TRUE,   tissue_img = NULL,   image_alpha = NA,   which_on_top = \"edge\",   show_arrow = FALSE )"},{"path":"https://skimlab.github.io/spatialCCC/reference/plot_spatial_ccc_graph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot spatial CCC graph — plot_spatial_ccc_graph","text":"ccc_graph spatial CCC graph LR pair graph_layout string graph layout algorithm. Default \"auto\"; see Details information cells_of_interest array cell ids highlight. edges_expanded_to_group TRUE cells_of_interest given, nodes edges expanded include nodes edges belong groups cells_of_interest belong . edge_color, node_color column name used edge node colors, respectively edge_color_range, node_color_range bound given c(min, max) format. specified, ranges set using values, instead ones derived data.  Useful multiple plots combined later comparison. edge_width, node_size specify edge width node size.  Currently, default values work well.  Might need manual adjustments. edge_alpha, node_alpha specify transparency edges nodes clip TRUE (dafault), tissue_img cliped show active cell-cell communications tissue_img Raster image, like imgRaster(spe) image_alpha alpha value tissue_img. NA, keep current value. which_on_top either \"edge\" \"node\" show_arrow TRUE, arrow added edge.  Default FALSE.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/plot_spatial_ccc_graph.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot spatial CCC graph — plot_spatial_ccc_graph","text":"CCC graph tissue image. format, spots placed original locations, keeping spatial relations. CCC graph without tissue image. format, spots placed using either original locations (\"spatial\") user-specified graph layout algorithm.  Default (\"kk\" = igraph::layout_with_kk()) algorithm. See create_layout() available algorithms.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/plot_spatial_ccc_graph.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot spatial CCC graph — plot_spatial_ccc_graph","text":"","code":"if (FALSE) { plot_spatial_ccc_graph(ccc_graph = ccc_graph_list[[\"App_Dcc\"]],                        tissue_img = imgRaster(spe),                        node_color = \"group_diameter\",                        node_size = 1,                        edge_color = \"group_diameter\",                        which_on_top = \"edge\")  plot_spatial_ccc_graph(ccc_graph = ccc_graph_list[[\"App_Dcc\"]],                        node_color = \"group_diameter\",                        node_size = 1,                        edge_color = \"group_diameter\",                        which_on_top = \"edge\")  plot_spatial_ccc_graph(ccc_graph = ccc_graph_list[[\"App_Dcc\"]],                        graph_layout = \"stress\",                        node_color = \"group_diameter\",                        node_size = 1,                        edge_color = \"group_diameter\",                        which_on_top = \"edge\") }"},{"path":"https://skimlab.github.io/spatialCCC/reference/plot_spatial_feature.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot spatial feature — plot_spatial_feature","title":"Plot spatial feature — plot_spatial_feature","text":"Visualize spatial features w/ w/o tissue image","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/plot_spatial_feature.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot spatial feature — plot_spatial_feature","text":"","code":"plot_spatial_feature(   spe,   feature,   cells_of_interest = NULL,   spot_size = 1.6,   spot_alpha = 1,   image_alpha = NA,   show_tissue_image = TRUE,   clip = TRUE )"},{"path":"https://skimlab.github.io/spatialCCC/reference/plot_spatial_feature.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot spatial feature — plot_spatial_feature","text":"spe SpatialExperiment object feature string, column name feature visualized cells_of_interest array cell ids highlight. spot_size specify size spot (feature).  Currently, default values work well.  Might need manual adjustments. spot_alpha specify transparency spot (feature) image_alpha alpha value tissue image. NA, keep current value. show_tissue_image TRUE, tissue image shown. clip TRUE (dafault), tissue image cliped size cover spots","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/plot_spatial_feature.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Plot spatial feature — plot_spatial_feature","text":"spots placed original locations, keeping spatial relations.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/plot_spatial_feature.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot spatial feature — plot_spatial_feature","text":"","code":"if (FALSE) { plot_spatial_features(spe,                       feature = \"mclust_6\")  plot_spatial_features(spe,                       feature = \"mclust_6\",                       image_alpha = 0.75) }"},{"path":"https://skimlab.github.io/spatialCCC/reference/set_ccc_tbl_default_cluster.html","id":null,"dir":"Reference","previous_headings":"","what":"Set default cluster in CCC table — set_ccc_tbl_default_cluster","title":"Set default cluster in CCC table — set_ccc_tbl_default_cluster","text":"Set default cluster CCC table","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/set_ccc_tbl_default_cluster.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set default cluster in CCC table — set_ccc_tbl_default_cluster","text":"","code":"set_ccc_tbl_default_cluster(ccc_tbl, cluster_name)"},{"path":"https://skimlab.github.io/spatialCCC/reference/set_ccc_tbl_default_cluster.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set default cluster in CCC table — set_ccc_tbl_default_cluster","text":"ccc_tbl CCC table, output compute_spatial_ccc_tbl() cluster_name string, name default cluster. cluster_name.src cluster_name.dst columns copied \"cluster.src\" \"cluster.dst\".","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/set_ccc_tbl_default_cluster.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set default cluster in CCC table — set_ccc_tbl_default_cluster","text":"CCC table amended columns","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/spatialCCC-package.html","id":null,"dir":"Reference","previous_headings":"","what":"spatialCCC: Spatial Transcriptomic cell-cell communication analysis — spatialCCC-package","title":"spatialCCC: Spatial Transcriptomic cell-cell communication analysis — spatialCCC-package","text":"Investigate cell-cell signaling, analyzing ligand-receptor interactions spatial transcriptomic data.","code":""},{"path":[]},{"path":"https://skimlab.github.io/spatialCCC/reference/spatialCCC-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"spatialCCC: Spatial Transcriptomic cell-cell communication analysis — spatialCCC-package","text":"Maintainer: Seungchan Kim dolchan@gmail.com (ORCID)","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/summarize_ccc_graph_metrics.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize spatial CCC graph list to table — summarize_ccc_graph_metrics","title":"Summarize spatial CCC graph list to table — summarize_ccc_graph_metrics","text":"Summarize spatial CCC graph list table","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/summarize_ccc_graph_metrics.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize spatial CCC graph list to table — summarize_ccc_graph_metrics","text":"","code":"summarize_ccc_graph_metrics(ccc_graph_list, level = c(\"graph\", \"group\"))"},{"path":"https://skimlab.github.io/spatialCCC/reference/summarize_ccc_graph_metrics.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize spatial CCC graph list to table — summarize_ccc_graph_metrics","text":"ccc_graph_list list spatial CCC graph, output to_spatial_ccc_graph. level extract graph metrics either overall graph (\"graph\") subgraph (\"group\")","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/summarize_ccc_graph_metrics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize spatial CCC graph list to table — summarize_ccc_graph_metrics","text":"graph metrics table summarized LR pair","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/tag_cells_in_ccc_graph.html","id":null,"dir":"Reference","previous_headings":"","what":"Tag nodes if included in COIs — tag_cells_in_ccc_graph","title":"Tag nodes if included in COIs — tag_cells_in_ccc_graph","text":"Add additional columns nodes CCC graph: InCOI = TRUE node included COIs connected node COIs tagged = TRUE node included group includes COIs, edges_expanded_to_group = TRUE","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/tag_cells_in_ccc_graph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tag nodes if included in COIs — tag_cells_in_ccc_graph","text":"","code":"tag_cells_in_ccc_graph(ccog, COIs, edges_expanded_to_group = FALSE)"},{"path":"https://skimlab.github.io/spatialCCC/reference/tag_cells_in_ccc_graph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tag nodes if included in COIs — tag_cells_in_ccc_graph","text":"ccog CCC graph COIs array nodes highlight edges_expanded_to_group TRUE,","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/tag_cells_in_ccc_graph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tag nodes if included in COIs — tag_cells_in_ccc_graph","text":"CCC graph InCOI tagged columns (see )","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/tidy_up_ccc_graph.html","id":null,"dir":"Reference","previous_headings":"","what":"Tidy up CCC graph by removing isolated nodes — tidy_up_ccc_graph","title":"Tidy up CCC graph by removing isolated nodes — tidy_up_ccc_graph","text":"Tidy CCC graph removing isolated nodes","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/tidy_up_ccc_graph.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tidy up CCC graph by removing isolated nodes — tidy_up_ccc_graph","text":"","code":"tidy_up_ccc_graph(ccog)"},{"path":"https://skimlab.github.io/spatialCCC/reference/tidy_up_ccc_graph.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tidy up CCC graph by removing isolated nodes — tidy_up_ccc_graph","text":"ccog CCC graph","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/tidy_up_ccc_graph.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tidy up CCC graph by removing isolated nodes — tidy_up_ccc_graph","text":"CCC graph isolated nodes removed.","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/to_spatial_ccc_graph_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert CCC table to a list of spatial CCC graphs — to_spatial_ccc_graph_list","title":"Convert CCC table to a list of spatial CCC graphs — to_spatial_ccc_graph_list","text":"Convert CCC table list spatial CCC graphs","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/to_spatial_ccc_graph_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert CCC table to a list of spatial CCC graphs — to_spatial_ccc_graph_list","text":"","code":"to_spatial_ccc_graph_list(ccc_tbl, spatial_data, workers = 1)"},{"path":"https://skimlab.github.io/spatialCCC/reference/to_spatial_ccc_graph_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert CCC table to a list of spatial CCC graphs — to_spatial_ccc_graph_list","text":"ccc_tbl output compute_spatial_ccc_tbl() spatial_data table spatial coordinates spots/cells spatial transcriptomic data.  spatial_data includes cell_id, spot_x, spot_y, used ; Otherwise, use first three columns cell_id, spot_x, spot_y workers number processes used parallel processing","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/to_spatial_ccc_graph_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert CCC table to a list of spatial CCC graphs — to_spatial_ccc_graph_list","text":"list spatial CCC graph","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/to_spatial_ccc_graph_list.html","id":"graph-metrics","dir":"Reference","previous_headings":"","what":"graph metrics","title":"Convert CCC table to a list of spatial CCC graphs — to_spatial_ccc_graph_list","text":"overall graph, graph_n_nodes, graph_n_edges graph_component_count graph_motif_count graph_diameter graph_un_diameter graph_mean_dist graph_circuit_rank = graph_n_edges - graph_n_nodes + graph_component_count graph_reciprocity graph_clique_num (sp_ccc_graph assumed undirected) graph_clique_count (sp_ccc_graph assumed undirected) sub-graph (group_components()) group_n_nodes group_n_edges group_adhesion group_motif_count group_diameter group_un_diameter group_mean_dist group_girth group_circuit_rank group_reciprocity","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/to_spatial_ccc_tbl.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert spatial CCC graphs to spatial CCC table — to_spatial_ccc_tbl","title":"Convert spatial CCC graphs to spatial CCC table — to_spatial_ccc_tbl","text":"Convert spatial CCC graphs spatial CCC table","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/to_spatial_ccc_tbl.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert spatial CCC graphs to spatial CCC table — to_spatial_ccc_tbl","text":"","code":"to_spatial_ccc_tbl(ccc_graph_list)"},{"path":"https://skimlab.github.io/spatialCCC/reference/to_spatial_ccc_tbl.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert spatial CCC graphs to spatial CCC table — to_spatial_ccc_tbl","text":"ccc_graph_list list spatial CCC graphs","code":""},{"path":"https://skimlab.github.io/spatialCCC/reference/to_spatial_ccc_tbl.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert spatial CCC graphs to spatial CCC table — to_spatial_ccc_tbl","text":"spatial CCC table","code":""}]
